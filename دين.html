<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>خريطة مفاهيم امتحان البجروت في الإسلام</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Cairo', 'Inter', sans-serif;
            background-color: #f0f4f8; /* Tailwind blue-gray-100 */
            color: #2d3748; /* Tailwind gray-800 */
            direction: rtl; /* Right-to-left for Arabic */
        }
        .container {
            max-width: 1024px; /* Slightly wider for mind map feel */
        }
        h1, h2, h3, h4, h5 {
            font-family: 'Cairo', sans-serif;
        }

        /* Mind Map Styling */
        .mind-map-node {
            background-color: #ffffff;
            border-radius: 1rem; /* More rounded corners */
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin-bottom: 1.5rem;
            position: relative;
            border: 1px solid #e2e8f0; /* Subtle border */
        }

        .mind-map-node.level-1 {
            background-color: #e0f2f7; /* Light teal for main topics */
            border: 2px solid #2bc9f3;
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .mind-map-node.level-2 {
            background-color: #f7fafc; /* Lighter background for sub-topics */
            margin-right: 2.5rem; /* Indent for visual hierarchy */
            border-left: 4px solid #99c2ff; /* Blue line indicating connection */
            padding-right: 1.5rem;
        }

        .mind-map-node.level-3 {
            background-color: #ffffff;
            margin-right: 4rem; /* Further indent */
            border-left: 2px solid #a3bffa; /* Lighter blue line */
            padding-right: 1.25rem;
        }

        /* For the "connection lines" (visual effect, not actual SVG lines) */
        .mind-map-node.level-1 > .flex::before,
        .mind-map-node.level-2::before {
            content: '';
            position: absolute;
            top: 2rem; /* Adjust as needed */
            right: -2rem; /* Position to the left for RTL */
            width: 2rem; /* Length of the horizontal line */
            height: 2px;
            background-color: #99c2ff; /* Color of the line */
            z-index: 10;
        }
        .mind-map-node.level-1 > .flex::before {
            background-color: #2bc9f3; /* Main topic line color */
        }

        /* Highlight for search */
        .highlight {
            background-color: #ffe082; /* Light yellow for highlighting */
            padding: 0 0.2rem;
            border-radius: 0.25rem;
        }

        /* Scrollbar styles */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #888;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #555;
        }

        /* Back to top button */
        #back-to-top {
            position: fixed;
            bottom: 2rem;
            left: 2rem; /* Position on the left for RTL content */
            background-color: #2bc9f3;
            color: white;
            padding: 0.75rem 1rem;
            border-radius: 9999px; /* Fully rounded */
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: none; /* Hidden by default */
            cursor: pointer;
            z-index: 1000;
            transition: opacity 0.3s ease-in-out;
        }
        #back-to-top:hover {
            background-color: #22a7d2;
        }
    </style>
</head>
<body class="p-4 sm:p-6 lg:p-8">
    <div class="container mx-auto bg-white shadow-xl rounded-2xl p-6 sm:p-8 lg:p-10 my-8">
        <header class="text-center mb-10">
            <h1 class="text-4xl sm:text-5xl font-bold text-teal-800 mb-4 rounded-xl p-4 bg-teal-100 border-b-4 border-teal-300">
                خريطة مفاهيم امتحان البجروت في الإسلام
            </h1>
            <p class="text-lg sm:text-xl text-gray-700">
                استعد لامتحانك مع هذه الخريطة المفاهيمية المنظمة.
            </p>
        </header>

        <div class="mb-8 p-4 bg-blue-50 rounded-lg shadow-sm border border-blue-200">
            <label for="search-input" class="block text-lg font-semibold text-blue-800 mb-2">البحث في الخريطة:</label>
            <input type="text" id="search-input" placeholder="ادخل كلمة للبحث عنها..." class="w-full p-3 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-right">
            <div id="search-results" class="mt-4 space-y-2"></div>
        </div>

        <nav id="table-of-contents" class="mb-8 p-4 bg-green-50 rounded-lg shadow-sm border border-green-200 sticky top-0 z-50">
            <h2 class="text-2xl font-bold text-green-800 mb-4">فهرس المحتويات</h2>
            <ul class="list-none space-y-2 text-lg text-green-700">
                </ul>
        </nav>

        <main id="mind-map-content" class="space-y-8">
            <div id="section-1" class="mind-map-node level-1">
                <div class="flex justify-between items-center mb-4 cursor-pointer toggle-header" data-target="section-1-content">
                    <h2 class="text-3xl font-bold text-teal-800 border-b-2 border-teal-300 pb-2 flex-grow">
                        1. أحداث القيامة
                    </h2>
                    <button class="toggle-btn text-2xl font-bold text-teal-600 w-8 h-8 rounded-full bg-teal-200 hover:bg-teal-300 focus:outline-none flex items-center justify-center" aria-expanded="false" aria-controls="section-1-content">+</button>
                </div>
                <div id="section-1-content" class="content-wrapper space-y-6 mt-4">
                    <p class="text-gray-700 leading-relaxed">
                        يوم القيامة هو اليوم الذي يبعث الله فيه الخلائق للحساب والجزاء، وقد سُمي بذلك لأنه لا يوم بعده.
                    </p>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            ما يسبق البعث
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>النفخة الأولى (نفخة الصعق): يموت كل من في السموات والأرض إلا من شاء الله أن يبقى.</li>
                            <li>النفخة الثانية (نفخة البعث): صيحة عظيمة توقظ الأموات ليقوموا لرب العالمين حفاة عراة غرلاً غير مختونين، ويُبعثون على ما ماتوا عليه.</li>
                            <li>المقدار بين النفختين: أربعون (قيل يومًا، قيل شهرًا، قيل سنة).</li>
                            <li>زمن النفخ: يكون يوم الجمعة.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            تعريف البعث
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>لغةً: الإرسال أو الإثارة أو الإحياء.</li>
                            <li>اصطلاحًا: إحياء الموتى حين يُنفخ في الصور النفخة الثانية، فيقوم الناس لرب العالمين حفاة عراة غرلاً.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            كيف يبعث الخلق؟
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>ينزل من السماء قبل النفخة الثانية ماء كالطل أو الظل تنبت منه أجساد الناس.</li>
                            <li>يبلى جسد الإنسان كله في القبر إلا عجب الذنب، فمنه يركب الخلق يوم القيامة.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            صفة البعث
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>يُبعث الناس من قبورهم عراة حفاة غير مختونين.</li>
                            <li>يُبعث المحرم مُلبّيًا، والشهيد وجرحه يثغب دمًا (اللون لون الدم، والريح ريح المسك).</li>
                            <li>أول من تنشق الأرض عنه: النبي محمد صلى الله عليه وسلم.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            خواص الإنسان يوم البعث
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>يخلق خلقًا جديدًا.</li>
                            <li>لا يموت مهما أصيب أو عُذّب.</li>
                            <li>يستطيع رؤية الملائكة والجن.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="section-2" class="mind-map-node level-1">
                <div class="flex justify-between items-center mb-4 cursor-pointer toggle-header" data-target="section-2-content">
                    <h2 class="text-3xl font-bold text-teal-800 border-b-2 border-teal-300 pb-2 flex-grow">
                        2. يوم الحشر
                    </h2>
                    <button class="toggle-btn text-2xl font-bold text-teal-600 w-8 h-8 rounded-full bg-teal-200 hover:bg-teal-300 focus:outline-none flex items-center justify-center" aria-expanded="false" aria-controls="section-2-content">+</button>
                </div>
                <div id="section-2-content" class="content-wrapper space-y-6 mt-4">
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            معنى الحشر
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>لغةً: الجمع.</li>
                            <li>اصطلاحًا: جمع الخلائق إلى أرض المحشر للعرض على الله والحساب.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            صفة أرض المحشر
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            أرض بيضاء تميل إلى الحمرة، لا علامة فيها، أو بناء أو أثر.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            الذين يحشرون إلى أرض المحشر
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>الثقلان (الإنس والجن).</li>
                            <li>البهائم والوحوش.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            صفة حشر الناس
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>يحشر الناس حفاة، عراة، غرلاً.</li>
                            <li>الأمر أشد من أن يهمّهم النظر بعضهم إلى بعض.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            أهوال يوم الحشر
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>يود الكافر أن له ملك ما في الأرض ليفتدي به.</li>
                            <li>يحسب الناس من هول ذلك اليوم أنهم سكارى، وما هم بسكارى.</li>
                            <li>تدنو الشمس من الرؤوس، ويرتفع العرق (يتفاوت مقداره حسب الأعمال).</li>
                            <li>يفر المرء من أخيه، والولد من والديه، والزوج من زوجته، والكل يقول: نفسي نفسي.</li>
                            <li>يطول ذلك اليوم، فيظنون أنهم ما لبثوا إلا ساعة.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            كرامة المؤمن في أرض المحشر
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            يُخفف طول يوم المحشر عن المؤمن.
                        </p>
                    </div>
                </div>
            </div>

            <div id="section-3" class="mind-map-node level-1">
                <div class="flex justify-between items-center mb-4 cursor-pointer toggle-header" data-target="section-3-content">
                    <h2 class="text-3xl font-bold text-teal-800 border-b-2 border-teal-300 pb-2 flex-grow">
                        3. العرض والحساب
                    </h2>
                    <button class="toggle-btn text-2xl font-bold text-teal-600 w-8 h-8 rounded-full bg-teal-200 hover:bg-teal-300 focus:outline-none flex items-center justify-center" aria-expanded="false" aria-controls="section-3-content">+</button>
                </div>
                <div id="section-3-content" class="content-wrapper space-y-6 mt-4">
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            معنى العرض والحساب
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>العرض لغةً: الإبراز والظهور.</li>
                            <li>العرض اصطلاحًا: بروز الخلائق وعرضهم على ربهم في الموقف.</li>
                            <li>الحساب لغةً: العد.</li>
                            <li>الحساب اصطلاحًا: تعريف الله الخلائق بمقادير الجزاء على أعمالهم، وتذكيرهم بما نسوه.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            الفهم الصحيح للعرض والحساب (نوعان)
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>حساب عرض: يخص المؤمن، يُسأل عن عمله وعلمه ونعم الله عليه، ويعرف ذنوبه ويعترف بها، فيسترها الله عليه ويغفرها، ويُعطى كتابه بيمينه، ويدخل الجنة. (يُعرف بالحساب اليسير).</li>
                            <li>الحساب: يخص الكفار وعصاة الموحدين، وقد يطول حسب كثرة الذنوب.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            مدة يوم الحساب
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            قد يظن البعض أنه يوم واحد، لكنه يعد بآلاف السنين.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            من يدخل الجنة بغير حساب
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            سبعون ألفًا من أمة محمد صلى الله عليه وسلم.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            مناقشة الحساب
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            من نُوقش الحساب هلك أو عُذّب.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            الأمور التي يُسأل عنها العبد
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>الصلاة، الحواس وكيف استثمرت، الدين، الحقوق والمظالم.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            كيفية النجاة
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            محاسبة النفس في الدنيا قبل أن تُحاسب.
                        </p>
                    </div>
                </div>
            </div>

            <div id="section-4" class="mind-map-node level-1">
                <div class="flex justify-between items-center mb-4 cursor-pointer toggle-header" data-target="section-4-content">
                    <h2 class="text-3xl font-bold text-teal-800 border-b-2 border-teal-300 pb-2 flex-grow">
                        4. الميزان
                    </h2>
                    <button class="toggle-btn text-2xl font-bold text-teal-600 w-8 h-8 rounded-full bg-teal-200 hover:bg-teal-300 focus:outline-none flex items-center justify-center" aria-expanded="false" aria-controls="section-4-content">+</button>
                </div>
                <div id="section-4-content" class="content-wrapper space-y-6 mt-4">
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            تعريف الميزان
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>لغةً: مأخوذ من وزن، للدلالة على التعديل والاستقامة، أو بيان قدر الشيء وقيمته.</li>
                            <li>اصطلاحًا: ميزان حقيقي له لسان وكفّتان، توزن فيه أعمال العباد من الخير والشر.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            الاعتقاد بالميزان
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            الأمة أجمعت على أنه ميزان حقيقي ذو كفتين ولسان.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            آراء الفقهاء في ماهية الميزان (وحدته وتعدده)
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>المذهب الأول (تعدد الميزان): لكل أحد ميزان على حدة، وقد يكون لأفعال القلوب وأفعال الجوارح.</li>
                            <li>المذهب الثاني (وحدة الميزان): لكل فرد ميزان خاص به، أو لكل عمل ميزان خاص.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="section-5" class="mind-map-node level-1">
                <div class="flex justify-between items-center mb-4 cursor-pointer toggle-header" data-target="section-5-content">
                    <h2 class="text-3xl font-bold text-teal-800 border-b-2 border-teal-300 pb-2 flex-grow">
                        5. الحوض
                    </h2>
                    <button class="toggle-btn text-2xl font-bold text-teal-600 w-8 h-8 rounded-full bg-teal-200 hover:bg-teal-300 focus:outline-none flex items-center justify-center" aria-expanded="false" aria-controls="section-5-content">+</button>
                </div>
                <div id="section-5-content" class="content-wrapper space-y-6 mt-4">
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            معنى الحوض
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>لغةً: مجمع الماء.</li>
                            <li>اصطلاحًا: ما جاء به الخبر من أن لنبينا محمد حوضًا ترده أمته يوم القيامة، جعله الله غياثًا لهم.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            الفرق بين الحوض والكوثر
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>الكوثر: نهر أعده الله لنبيه في الجنة.</li>
                            <li>الحوض: مجمع الماء في أرض المحشر، وماؤه مستمد من الكوثر.</li>
                            <li>الكوثر أصل (نهر عظيم جاري)، والحوض فرع (مجمع ماء يصب فيه الكوثر بميزابين).</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            صفة حوض النبي صلى الله عليه وسلم
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>اللون: أبيض من اللبن وأبيض من الورق (الفضة).</li>
                            <li>السعة: مسيرة شهر.</li>
                            <li>الطعم: أحلى من العسل.</li>
                            <li>أثره على الشارب: من شرب منه لا يظمأ بعدها أبدًا.</li>
                            <li>الرائحة: أطيب من ريح المسك.</li>
                            <li>المصدر: من الجنة.</li>
                            <li>مساره: يصب فيه ميزابان من الجنة (أحدهما من ذهب، والآخر من فضة).</li>
                            <li>آنيته: كنجوم السماء في العدد والنور واللمعان.</li>
                            <li>الطول والعرض: كما بين صنعاء وأيلة، وعرضه كطوله.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            أول زمرة ترد وتشرب من الحوض
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>فقراء المهاجرين.</li>
                            <li>أهل اليمن.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            من يشرف بالشراب من حوض النبي صلى الله عليه وسلم
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            كل من آمن به ومات على ذلك.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            المطرودون عن حوض النبي صلى الله عليه وسلم
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            كل من ارتد عن دين الله، أو أحدث فيه ما لا يرضاه الله.
                        </p>
                    </div>
                </div>
            </div>

            <div id="section-6" class="mind-map-node level-1">
                <div class="flex justify-between items-center mb-4 cursor-pointer toggle-header" data-target="section-6-content">
                    <h2 class="text-3xl font-bold text-teal-800 border-b-2 border-teal-300 pb-2 flex-grow">
                        6. الصراط المستقيم
                    </h2>
                    <button class="toggle-btn text-2xl font-bold text-teal-600 w-8 h-8 rounded-full bg-teal-200 hover:bg-teal-300 focus:outline-none flex items-center justify-center" aria-expanded="false" aria-controls="section-6-content">+</button>
                </div>
                <div id="section-6-content" class="content-wrapper space-y-6 mt-4">
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            معنى الصراط المستقيم
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>لغةً: الطريق.</li>
                            <li>اصطلاحًا: الجسر الممدود على جهنم، ليعبر الناس عليه إلى الجنة.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            مشروعيته
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            ثابت بالكتاب والسنة وإجماع الأمة.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            المارون على الصراط
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            كل مسلم يمر عليه، بينما الكفار والمشركون يدخلون جهنم قبل نصب الصراط.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            هيئة الصراط ووصفه
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>دامس شديد الظلمة.</li>
                            <li>تحته نار سوداء مظلمة.</li>
                            <li>يُسمع فيه أصوات الصراخ والعويل.</li>
                            <li>كل واحد يحمل على ظهره ذنوبه.</li>
                            <li>أدق وأرفع من الشعرة.</li>
                            <li>أحدّ من السيف.</li>
                            <li>على حافتيه شوك مدبب صلب، من حديد وكلاليب.</li>
                            <li>تزل فيه الأقدام، ولا تستقر.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            مشهد عبور الناس
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            يتفاوت المارون حسب أعمالهم (كالبرق، كالريح، كالطير، شد الرجال، أو زحفًا).
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            أول من يعبر الصراط
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            من الأنبياء محمد صلى الله عليه وسلم، ومن الأمم أمته.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            النور الذي يُعطى لأهل الصراط
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            يُعطون من النور ما يناسب أحوالهم وبه يكون المرور.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            ما بعد الصراط (القنطرة)
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>إذا خلص المؤمنون من الصراط، يُحبسون على قنطرة بين الجنة والنار، يتقاصون مظالم كانت بينهم.</li>
                            <li>القنطرة هي الصراط الخاص بتنقية المؤمنين من الذنوب المتعلقة بالعباد حتى يدخلوا الجنة بلا غل ولا حسد.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="section-7" class="mind-map-node level-1">
                <div class="flex justify-between items-center mb-4 cursor-pointer toggle-header" data-target="section-7-content">
                    <h2 class="text-3xl font-bold text-teal-800 border-b-2 border-teal-300 pb-2 flex-grow">
                        7. الجنة ونعيمها
                    </h2>
                    <button class="toggle-btn text-2xl font-bold text-teal-600 w-8 h-8 rounded-full bg-teal-200 hover:bg-teal-300 focus:outline-none flex items-center justify-center" aria-expanded="false" aria-controls="section-7-content">+</button>
                </div>
                <div id="section-7-content" class="content-wrapper space-y-6 mt-4">
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            تعريف الجنة
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>لغةً: البستان العظيم الذي يستر ما بداخله.</li>
                            <li>اصطلاحًا: دار الخلود والكرامة التي أعدها الله لعباده المؤمنين.</li>
                        </ul>
                        <p class="text-gray-700 leading-relaxed mt-2">
                            الجنة هي دار الخلود والكرامة التي أعدها الله لعباده المؤمنين، فيها ما لا عين رأت، ولا أذن سمعت، ولا خطر على قلب بشر.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            أنواع الجنة (أسمائها)
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>الحسنى.</li>
                            <li>دار السلام.</li>
                            <li>جنات عدن.</li>
                            <li>جنة المأوى.</li>
                            <li>جنات النعيم.</li>
                            <li>دار المتقين.</li>
                            <li>جنات الفردوس.</li>
                            <li>جنة الخلد.</li>
                            <li>الغرفة.</li>
                            <li>دار المقامة.</li>
                            <li>دار القرار.</li>
                            <li>عليون (أعلى وأفضل الجنات).</li>
                        </ul>
                        <p class="text-gray-700 leading-relaxed mt-2">
                            كل ما وصف في الجنة إنما هو للتقريب العقلي.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            طعام أهل الجنة
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>ليس لطعام أهل الجنة أثر بعد أكله (لا يبصقون، لا يتمخطون، لا يتغوطون، لا يبولون، وحاجتهم جشاء ورشح كالمسك).</li>
                            <li>فواكهها وثمارها في متناول أيديهم متى شاءوا.</li>
                            <li>كل ما فيها مباح وموجود على مدار الوقت.</li>
                            <li>من أنواع الفاكهة المذكورة: التين، العنب، الرمان، الطلح (الموز)، البلح (النخيل)، السدر (النبق).</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            لباس أهل الجنة
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>الحرير، الذهب، السندس، الإستبرق.</li>
                            <li>فرشهم بطائنها من إستبرق.</li>
                            <li>أسرتهم مرفوعة (الأرائك).</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            أنهار الجنة وبحارها
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>رأى النبي في الإسراء أربعة أنهار (اثنان باطنان في الجنة، واثنان ظاهران: النيل والفرات).</li>
                            <li>الكوثر (نهر أعطاه الله لرسوله).</li>
                            <li>بحار الجنة (ماء، لبن، خمر، عسل).</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            صفات نساء أهل الجنة
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>جمعهن جمال خلقي وخلُقي.</li>
                            <li>مطهرات من الحيض والنفاس وسائر العيوب.</li>
                            <li>حور (بيض)، عيونهن ضخام.</li>
                            <li>رقهن كرقة الجلد، في صفائهن كأنهن الياقوت ومرجان.</li>
                            <li>أتراب (في سن واحدة، كلهن صغار).</li>
                            <li>لا يوجد بينهن تباغض ولا تحاسد.</li>
                            <li>أبكار لم يتزوجن قبل ذلك.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            أعلى نعيم في الجنة
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            رؤية الله عز وجل، ومناجاته، والفوز برضاه.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            أدنى أهل الجنة منزلة وأعلى أهل الجنة منزلة
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>أدناهم: رجل يدخل الجنة بعد أهلها، فيُقال له: لك مثل ملك ملك من ملوك الدنيا وعشرة أمثاله، وله ما اشتهت نفسه ولذت عينه.</li>
                            <li>أعلاهم: أولئك الذين أردت غرس كرامتهم بيدي وختمت عليها، فلا لم تر عين، ولم تسمع أذن، ولم يخطر على قلب بشر.</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="section-8" class="mind-map-node level-1">
                <div class="flex justify-between items-center mb-4 cursor-pointer toggle-header" data-target="section-8-content">
                    <h2 class="text-3xl font-bold text-teal-800 border-b-2 border-teal-300 pb-2 flex-grow">
                        8. سورة الفاتحة وشرحها
                    </h2>
                    <button class="toggle-btn text-2xl font-bold text-teal-600 w-8 h-8 rounded-full bg-teal-200 hover:bg-teal-300 focus:outline-none flex items-center justify-center" aria-expanded="false" aria-controls="section-8-content">+</button>
                </div>
                <div id="section-8-content" class="content-wrapper space-y-6 mt-4">
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            تعريفها
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            أول سورة في القرآن ترتيبًا لا نزولًا، مكية، وآياتها سبع بالإجماع، وتعرف بـ "فاتحة الكتاب".
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            أهميتها
                        </h3>
                        <ul class="list-disc list-inside mt-3 text-gray-600 space-y-1 pr-4">
                            <li>حوت معاني القرآن ومقاصده.</li>
                            <li>تناولت أصول الدين وفروعه (العقيدة، العبادة، التشريع، الاعتقاد باليوم الآخر، الإيمان بصفات الله، الدعاء).</li>
                            <li>هي أم القرآن وهي أعظم سوره.</li>
                            <li>فرض الله قراءتها في كل ركعة، وهي ركن من أركان الصلاة.</li>
                        </ul>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            فضلها
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            أفضل سورة في القرآن الكريم، ولم يرد مثلها في الكتب السماوية.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            أسماؤها
                        </h3>
                        <p class="text-gray-700 leading-relaxed">
                            الحمد، الأساس، الكافية، الوافية، الشافية، السبع المثاني، أم الكتاب، الفاتحة.
                        </p>
                    </div>
                    <div class="mind-map-node level-2">
                        <h3 class="text-2xl font-semibold text-blue-700 mb-3 border-b-2 border-blue-200 pb-1">
                            تفسيرها
                        </h3>
                        <div class="space-y-3 mt-4">
                            <div class="mind-map-node level-3">
                                <h4 class="text-xl font-medium text-indigo-700 mb-2">بسم الله الرحمن الرحيم</h4>
                                <p class="text-gray-700">
                                    يرشد العباد إلى أهمية بدء أعمالهم بالبسملة وطلب العون والبركة من الله وحده.
                                </p>
                            </div>
                            <div class="mind-map-node level-3">
                                <h4 class="text-xl font-medium text-indigo-700 mb-2">الحمد لله رب العالمين</h4>
                                <p class="text-gray-700">
                                    الشكر والثناء لله رب الإنس والجن والملائكة والشياطين. الحمد يكون على النعم وغيرها، والشكر على النعم فقط.
                                </p>
                            </div>
                            <div class="mind-map-node level-3">
                                <h4 class="text-xl font-medium text-indigo-700 mb-2">الرحمن الرحيم</h4>
                                <p class="text-gray-700">
                                    الله عظيم الرحمة ودائم الرحمة. الرحمن ذو الرحمة الشاملة لجميع الخلائق في الدنيا، وللمؤمنين في الآخرة....
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <button id="back-to-top">
        العودة للأعلى
    </button>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // Function to generate Table of Contents
            function generateTableOfContents() {
                const tocList = document.querySelector('#table-of-contents ul');
                const mainSections = document.querySelectorAll('.mind-map-node.level-1 h2');

                mainSections.forEach((sectionTitle, index) => {
                    const sectionId = sectionTitle.closest('.mind-map-node.level-1').id;
                    const listItem = document.createElement('li');
                    const link = document.createElement('a');
                    link.href = `#${sectionId}`;
                    link.textContent = sectionTitle.textContent.trim();
                    link.classList.add('hover:text-green-900', 'transition-colors', 'duration-200');
                    listItem.appendChild(link);
                    tocList.appendChild(listItem);
                });
            }

            // Function for search functionality
            function setupSearch() {
                const searchInput = document.getElementById('search-input');
                const searchResultsDiv = document.getElementById('search-results');
                const contentDiv = document.getElementById('mind-map-content');
                let originalContent = contentDiv.innerHTML; // Store original content to restore after search

                searchInput.addEventListener('input', (event) => {
                    const searchTerm = event.target.value.trim();
                    searchResultsDiv.innerHTML = ''; // Clear previous results
                    contentDiv.innerHTML = originalContent; // Restore original content before highlighting

                    if (searchTerm.length > 0) {
                        const regex = new RegExp(`(${searchTerm})`, 'gi');
                        let matches = 0;

                        // Find all text nodes within the content
                        const walker = document.createTreeWalker(contentDiv, NodeFilter.SHOW_TEXT, null, false);
                        let node;
                        const textNodesToProcess = [];

                        while ((node = walker.nextNode())) {
                            if (node.nodeValue.trim().length > 0 && node.parentNode.tagName !== 'SCRIPT' && node.parentNode.tagName !== 'STYLE') {
                                textNodesToProcess.push(node);
                            }
                        }

                        textNodesToProcess.forEach(textNode => {
                            const parentElement = textNode.parentNode;
                            const originalText = textNode.nodeValue;
                            const newHTML = originalText.replace(regex, (match) => {
                                matches++;
                                return `<span class="highlight">${match}</span>`;
                            });

                            if (newHTML !== originalText) {
                                const tempDiv = document.createElement('div');
                                tempDiv.innerHTML = newHTML;
                                while (tempDiv.firstChild) {
                                    parentElement.insertBefore(tempDiv.firstChild, textNode);
                                }
                                parentElement.removeChild(textNode);
                            }
                        });

                        if (matches > 0) {
                            searchResultsDiv.innerHTML = `<p class="text-blue-700">تم العثور على ${matches} نتيجة لـ "${searchTerm}".</p>`;
                            // Scroll to the first highlight
                            const firstHighlight = document.querySelector('.highlight');
                            if (firstHighlight) {
                                firstHighlight.scrollIntoView({ behavior: 'smooth', block: 'center' });
                            }
                        } else {
                            searchResultsDiv.innerHTML = `<p class="text-red-600">لم يتم العثور على نتائج لـ "${searchTerm}".</p>`;
                        }
                    }
                });
            }

            // Function for back-to-top button
            function setupBackToTopButton() {
                const backToTopButton = document.getElementById('back-to-top');

                window.addEventListener('scroll', () => {
                    if (window.scrollY > 300) { // Show button after scrolling down 300px
                        backToTopButton.style.display = 'block';
                        setTimeout(() => backToTopButton.style.opacity = '1', 10); // Small delay for CSS transition
                    } else {
                        backToTopButton.style.opacity = '0';
                        // Use a timeout to hide display property after transition
                        setTimeout(() => {
                            if (window.scrollY <= 300) { // Double check in case scroll position changed during timeout
                                backToTopButton.style.display = 'none';
                            }
                        }, 300); // Matches opacity transition duration
                    }
                });

                backToTopButton.addEventListener('click', () => {
                    window.scrollTo({
                        top: 0,
                        behavior: 'smooth'
                    });
                });
            }

            // New toggle section function
            function toggleSection(contentId, toggleButton) {
                const contentDiv = document.getElementById(contentId);
                const isHidden = contentDiv.classList.contains('hidden');

                if (isHidden) {
                    contentDiv.classList.remove('hidden');
                    toggleButton.textContent = '-';
                    toggleButton.setAttribute('aria-expanded', 'true');
                } else {
                    contentDiv.classList.add('hidden');
                    toggleButton.textContent = '+';
                    toggleButton.setAttribute('aria-expanded', 'false');
                }
            }

            // Initialize all functionalities
            generateTableOfContents();
            setupSearch();
            setupBackToTopButton();

            // Setup collapsible sections using event delegation
            const toggleHeaders = document.querySelectorAll('.toggle-header');
            toggleHeaders.forEach(header => {
                const toggleButton = header.querySelector('.toggle-btn');
                const contentId = header.dataset.target; // Get target content ID from data attribute

                header.addEventListener('click', () => {
                    toggleSection(contentId, toggleButton);
                });
            });

            // Initial setup for collapsible sections (all collapsed by default)
            const mainSections = document.querySelectorAll('.mind-map-node.level-1');
            mainSections.forEach(section => {
                const contentDiv = section.querySelector('.content-wrapper');
                const toggleButton = section.querySelector('.toggle-btn');
                if (contentDiv && toggleButton) {
                    contentDiv.classList.add('hidden'); // Start hidden
                    toggleButton.textContent = '+';
                    toggleButton.setAttribute('aria-expanded', 'false'); // Set initial ARIA state
                }
            });
        });
    </script>
</body>
</html>
